<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>114å­¸å¹´åº¦è¦ªè·æ•™è‚²æ—¥ - é’æºªåœ‹å°</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=final2">
</head>
<body>

    <!-- Parallax Background Elements -->
    <div class="parallax-layer p1" style="top: 10%; left: 5%;">ğŸˆ</div>
    <div class="parallax-layer p2" style="top: 15%; right: 10%;">ğŸª</div>
    <div class="parallax-layer p3" style="top: 40%; left: -5%;">â˜ï¸</div>
    <div class="parallax-layer p4" style="top: 60%; right: -5%;">â˜ï¸</div>
    <div class="parallax-layer p5" style="top: 80%; left: 10%;">âœ¨</div>

    <style>
        .parallax-layer {
            position: fixed;
            font-size: 3rem;
            z-index: -1;
            opacity: 0.6;
            transition: transform 0.1s linear;
            will-change: transform;
        }
        .p1 { font-size: 4rem; }
        .p2 { font-size: 5rem; }
        .p3 { font-size: 8rem; opacity: 0.3; }
        .p4 { font-size: 6rem; opacity: 0.3; }
    </style>

    <header class="hero-section">
        <div class="hero-content">
            <span class="badge">é’æºªåœ‹å°</span>
            <h1 class="main-title">114å­¸å¹´åº¦<br>è¦ªè·æ•™è‚²æ—¥</h1>
            
            <!-- å€’æ•¸è¨ˆæ™‚ -->
            <div class="countdown-container">
                <div class="time-block">
                    <span id="days" class="number">00</span>
                    <span class="label">å¤©</span>
                </div>
                <div class="separator">:</div>
                <div class="time-block">
                    <span id="hours" class="number">00</span>
                    <span class="label">æ™‚</span>
                </div>
            </div>
        </div>
    </header>

    <!-- è·‘é¦¬ç‡ˆ -->
    <div class="marquee-strip">
        <p>ğŸ“¢ æ­¡è¿è’è‡¨ç„¡é™åŸå˜‰å¹´è¯ï¼å…¨æ ¡æ”¤ä½ 09:00 æº–æ™‚é–‹è³£ï¼è«‹è‡ªå‚™ç’°ä¿é¤å…·ï¼Œæ„›åœ°çƒåšç’°ä¿ï¼ç¥å¤§å®¶ç©å¾—é–‹å¿ƒï¼</p>
    </div>

    <!-- å¿«æ·å°èˆª (App Icon é¢¨æ ¼) -->
    <nav class="quick-nav">
        <a href="stories.html" class="nav-item">
            <div class="icon-circle story-icon">ğŸ°</div>
            <span>æ•…äº‹ç‰†</span>
        </a>
        <a href="#map-modal" class="nav-item" onclick="openMap()">
            <div class="icon-circle map-icon">ğŸ—ºï¸</div>
            <span>æ ¡åœ’åœ°åœ–</span>
        </a>
        <a href="https://docs.google.com/forms/d/18_ZxA7pB8pmwYJaLqvHoOnVKms5iUGSCtp5RFBCoK10/preview" target="_blank" class="nav-item">
            <div class="icon-circle form-icon">ğŸ“</div>
            <span>æ•´æ½”å›é¥‹</span>
        </a>
    </nav>

    <main class="container">
        <!-- æ´»å‹•æ™‚ç¨‹ -->
        <section class="section-card timeline-card">
            <h2 class="section-title">ğŸ“… æ´»å‹•æ—¥ç¨‹ (3/28)</h2>
            <div class="timeline-row">
                <div class="t-item">
                    <span class="t-time">08:00</span>
                    <span class="t-desc">ç¤¾åœ˜è¡¨æ¼”</span>
                </div>
                <div class="t-line"></div>
                <div class="t-item">
                    <span class="t-time">09:00</span>
                    <span class="t-desc">æ”¤ä½é–‹è³£</span>
                </div>
                <div class="t-line"></div>
                <div class="t-item">
                    <span class="t-time">11:20</span>
                    <span class="t-desc">æ´»å‹•çµæŸ</span>
                </div>
            </div>
        </section>

        <!-- æ”¤ä½æœå°‹ -->
        <section class="booth-section">
            <h2 class="section-title">ğŸ” æ¢ç´¢æ”¤ä½</h2>
            
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="æœå°‹ç­ç´š (å¦‚ 506) æˆ–é£Ÿç‰©...">
                <button class="search-btn">Go</button>
            </div>

            <div class="filter-pills">
                <button class="pill active" data-filter="all">å…¨éƒ¨</button>
                <button class="pill" data-filter="food">ğŸ˜‹ ç¾é£Ÿ</button>
                <button class="pill" data-filter="goods">ğŸ›ï¸ å¥½ç‰©</button>
                <button class="pill" data-filter="game">ğŸ® éŠæˆ²</button>
            </div>

            <!-- ç€‘å¸ƒæµå¡ç‰‡ -->
            <div class="booth-grid" id="boothGrid">
                <!-- ç”± JS å‹•æ…‹ç”Ÿæˆ -->
            </div>
        </section>
    </main>

    <!-- åœ°åœ–æ¨¡æ…‹è¦–çª— (Modal) -->
    <div id="mapModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeMap()">&times;</span>
            <h3>ğŸ—ºï¸ æ ¡åœ’åœ°åœ–</h3>
            <img src="picture.jpg" alt="Map" style="width:100%; border-radius:10px;">
            <a href="https://www.csps.tyc.edu.tw/modules/tadnews/page.php?nsn=29" target="_blank" class="full-map-btn">æŸ¥çœ‹é«˜æ¸…å¤§åœ–</a>
        </div>
    </div>

    <!-- åº•éƒ¨ -->
    <footer>
        <p>Â© 2026 é’æºªåœ‹å°è¦ªè·æ•™è‚²æ—¥</p>
    </footer>

    <script>
        // è³‡æ–™åº« (å¾åŸæœ¬çš„ HTML è½‰æ›è€Œä¾†)
        const booths = [
            { cls: "101", name: "ä¸€èµ·ä¾†é€›è¡—", type: "goods", loc: "å’Œå¹³æ¨“ 1F" },
            { cls: "102", name: "102 è™Ÿå¯¶åº«", type: "goods", loc: "å’Œå¹³æ¨“ 1F" },
            { cls: "103", name: "è›‹å¥½ç‰©", type: "goods", loc: "å’Œå¹³æ¨“ 1F" },
            { cls: "108", name: "108å¿«æ¨‚å°èˆ–", type: "goods", loc: "å’Œå¹³æ¨“ 1F" },
            { cls: "201", name: "å¹¸ç¦æŸ‘ä»”åº—", type: "goods", loc: "å’Œå¹³æ¨“ 2F" },
            { cls: "205", name: "äºŒäº”æ­¡æ¨‚å¸‚é›†", type: "goods", loc: "å’Œå¹³æ¨“ 2F" },
            { cls: "206", name: "206å°‹å¯¶åº—", type: "goods", loc: "å’Œå¹³æ¨“ 2F" },
            { cls: "302", name: "302å¥‡å¹»å±‹", type: "goods", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "303", name: "æ­¡æ¨‚33", type: "food", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "304", name: "304æ”¤ä½", type: "food", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "305", name: "äº”å‘Šå¼å‘·", type: "food", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "307", name: "è³£é‹å­", type: "goods", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "308", name: "308å•†åº—å±‹", type: "goods", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "309", name: "ä¸‰ä¹å¹¸ç¦", type: "game", loc: "å’Œå¹³æ¨“ 3F" },
            { cls: "407", name: "ä¸å¹³å‡¡çš„407", type: "goods", loc: "å’Œå¹³æ¨“ 4F" },
            { cls: "408", name: "408ç„¡é™åŸ", type: "food", loc: "å’Œå¹³æ¨“ 4F" },
            { cls: "409", name: "æ­¡æ¨‚é¸è³¼ 409", type: "goods", loc: "å’Œå¹³æ¨“ 4F" },
            { cls: "502", name: "åå¸å¸‚é›†", type: "game", loc: "å’Œå¹³æ¨“ 5F" },
            { cls: "506", name: "è®šä¸çµ•å£666", type: "food", loc: "å’Œå¹³æ¨“ 5F" },
            { cls: "508", name: "å¥‡é›è¡—åŠ", type: "goods", loc: "å’Œå¹³æ¨“ 5F" }
        ];

        const grid = document.getElementById('boothGrid');
        const searchInput = document.getElementById('searchInput');
        const pills = document.querySelectorAll('.pill');

        function renderBooths(filterType = 'all', searchText = '') {
            grid.innerHTML = '';
            
            const filtered = booths.filter(b => {
                const matchType = filterType === 'all' || b.type === filterType;
                const matchText = b.name.includes(searchText) || b.cls.includes(searchText);
                return matchType && matchText;
            });

            if(filtered.length === 0) {
                grid.innerHTML = '<div style="grid-column:1/-1; text-align:center; color:#999; padding:20px;">æ‰¾ä¸åˆ°ç›¸é—œæ”¤ä½ ğŸ¥²</div>';
                return;
            }

            filtered.forEach(b => {
                let typeLabel = b.type === 'food' ? 'ç¾é£Ÿ' : (b.type === 'game' ? 'éŠæˆ²' : 'å¥½ç‰©');
                let typeClass = `type-${b.type}`;
                
                const card = document.createElement('div');
                card.className = `booth-card ${typeClass}`;
                card.innerHTML = `
                    <div class="booth-header">
                        <span class="booth-class">${b.cls}</span>
                        <span class="booth-tag">${typeLabel}</span>
                    </div>
                    <h3>${b.name}</h3>
                    <p class="booth-loc">ğŸ“ ${b.loc}</p>
                `;
                grid.appendChild(card);
            });
        }

        // Init
        renderBooths();

        // Search Listener
        searchInput.addEventListener('input', (e) => {
            const activePill = document.querySelector('.pill.active');
            renderBooths(activePill.dataset.filter, e.target.value);
        });

        // Filter Listener
        pills.forEach(pill => {
            pill.addEventListener('click', () => {
                pills.forEach(p => p.classList.remove('active'));
                pill.classList.add('active');
                renderBooths(pill.dataset.filter, searchInput.value);
            });
        });

        // Countdown Logic
        const targetDate = new Date("2026-03-28T09:00:00").getTime();
        
        // Auto-switch to Event Mode on 2026/03/28
        const today = new Date();
        // Check for 3/28 (Month is 0-indexed, so 2 is March)
        if (today.getFullYear() === 2026 && today.getMonth() === 2 && today.getDate() === 28) {
            document.body.classList.add('event-day-mode');
            document.querySelector('.marquee-strip p').innerText = "ğŸ“¢ æ´»å‹•é€²è¡Œä¸­ï¼æ­¡è¿è’è‡¨ 114 å­¸å¹´åº¦è¦ªè·æ•™è‚²æ—¥ï¼è«‹å¤šåˆ©ç”¨ä¸‹æ–¹åœ°åœ–èˆ‡æ”¤ä½æœå°‹ï¼";
        }

        setInterval(() => {
            const now = new Date().getTime();
            const distance = targetDate - now;
            if (distance > 0) {
                document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
                document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            } else {
                document.getElementById("days").innerText = "00";
            }
        }, 1000);

        // Modal Logic
        function openMap() { document.getElementById('mapModal').style.display = 'flex'; }
        function closeMap() { document.getElementById('mapModal').style.display = 'none'; }

        // Parallax Effect
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            document.querySelectorAll('.parallax-layer').forEach((el, index) => {
                const speed = (index + 1) * 0.15;
                el.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });
    </script>
</body>
</html>